# Configuration for ConceptLocalizationPredictor Training

# Data configuration
data:
  dataset_path: "/iridisfs/geosets/oeg1n18/predictiondatasets/predictions/yfcc4k_geoclip"
  batch_size: 64
  num_workers: 4
  train_split: 0.8
  # val_split is automatically computed as 1 - train_split (0.2)
  seed: 42

# Concept configuration
concepts:
  text_concepts:
    - "palm trees"

# Model configuration
model:
  target_distance_km: 25.0  # Distance threshold for binary classification
  num_prompts_per_concept: 12  # Number of prompt templates per concept for ensembling
  learning_rate: 1e-3
  weight_decay: 0.0
  # Optional: class weights for handling imbalance [weight_negative, weight_positive]
  # Uncomment and adjust based on your dataset's class distribution
  # class_weights: [1.0, 5.0]  # Example: weight positive class 5x more

# Trainer configuration
trainer:
  accelerator: "gpu"
  devices: 1
  max_epochs: 80
  # Alternatively, use max_steps instead of max_epochs:
  # max_steps: 10000
  precision: "16-mixed"  # Use mixed precision for faster training
  gradient_clip_val: 1.0
  accumulate_grad_batches: 1
  log_every_n_steps: 10
  val_check_interval: 1.0  # Validate once per epoch
  check_val_every_n_epoch: 1
  deterministic: false
  enable_progress_bar: true

# Checkpointing (set to true to save model checkpoints)
checkpoint: False

# Logging (set to true to enable Weights & Biases logging)
logger: true